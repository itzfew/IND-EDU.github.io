<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Streak Tracker</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background-color: #f0f0f0;
    margin: 0;
    padding: 0;
    position: relative;
  }
  h1 {
    color: #333;
  }
  #container {
    width: 80%;
    max-width: 600px;
    margin: 5px auto;
    background-color: #fff;
    border-radius: 20px;
    box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);
    padding: 40px;
    position: relative;
    z-index: 1;
  }
  #streak {
    font-size: 24px;
    margin-bottom: 20px;
    border: 3px solid #333;
    border-radius: 10px;
    padding: 10px;
    background-color: #fff;
  }
  #message {
    font-size: 18px;
    margin-bottom: 20px;
  }
  #dayContainer {
    margin-top: 20px;
    overflow-x: auto;
    white-space: nowrap;
    width: 100%;
  }
  .dayCircle {
    width: 40px;
    height: 40px;
    border: 3px solid #333;
    border-radius: 50%;
    display: inline-block;
    margin-right: 10px;
    line-height: 40px;
    text-align: center;
    font-weight: bold;
  }
  .marked {
    background-color: #4CAF50;
    color: white;
  }
  .currentDay {
    background-color: #FFA500;
  }
  .markedToday {
    background-color: #FF5733;
    color: white;
  }
  #clickButton {
    padding: 20px;
    font-size: 48px;
    background-color: #4CAF50;
    color: white;
    border: 3px solid #3E8F3E;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.3s ease;
    position: absolute;
    bottom: -70px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2;
  }
  #clickButton:hover {
    background-color: #45a049;
  }
  #sunIcon {
    position: absolute;
    bottom: 20px;
    left: calc(50% + 100px);
    font-size: 40px;
    color: #FFD700;
    z-index: 1;
  }
  /* Add styles for social media icons */
  #socialMediaIcons {
    margin-top: 20px;
  }
  #socialMediaIcons a {
    display: inline-block;
    margin-right: 10px;
    font-size: 24px;
    color: #333;
  }
  /* Add style for copy icon */
  #copyIcon {
    font-size: 24px;
    cursor: pointer;
  }
  /* Adjust styles for smaller screens */
  @media screen and (max-width: 768px) {
    #container {
      width: 90%;
    }
    #clickButton {
      font-size: 32px;
    }
  }
</style>
</head>
<body>

<div id="container">
  <h1>Streak Tracker</h1>
  <div id="streak">Streak: <span id="streakCount">0</span></div>
  <div id="message"></div>
  <div id="dayContainer"></div>
  <button id="clickButton"><i class="fas fa-sun"></i></button>
  <!-- Social media icons -->
  <div id="socialMediaIcons">
    <a href="#" id="twitterIcon"><i class="fab fa-twitter"></i></a>
    <a href="#" id="facebookIcon"><i class="fab fa-facebook"></i></a>
    <a href="#" id="instagramIcon"><i class="fab fa-instagram"></i></a>
    <a href="#" id="whatsappIcon"><i class="fab fa-whatsapp"></i></a>
    <a href="#" id="linkedinIcon"><i class="fab fa-linkedin"></i></a>
    <!-- Icon for copying text -->
    <i id="copyIcon" class="far fa-copy"></i>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  let daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
  let today = new Date().getDay();
  let dayContainer = document.getElementById('dayContainer');

  for (let i = 0; i < daysOfWeek.length; i++) {
    let dayCircle = document.createElement('div');
    dayCircle.classList.add('dayCircle');

    if (i < today) {
      dayCircle.innerText = daysOfWeek[i];
      dayCircle.classList.add('marked');
    } else if (i === today) {
      dayCircle.innerText = daysOfWeek[i];
      dayCircle.classList.add('currentDay');
    } else {
      dayCircle.innerText = daysOfWeek[i];
    }

    if (i === today && localStorage.getItem('lastClickedTimestamp') === new Date().toLocaleDateString()) {
      dayCircle.classList.add('markedToday');
    }

    dayContainer.appendChild(dayCircle);
  }

  let todayDate = new Date().toLocaleDateString();
  let yesterdayDate = new Date();
  yesterdayDate.setDate(yesterdayDate.getDate() - 1);
  let yesterdayDateString = yesterdayDate.toLocaleDateString();

  let streak = localStorage.getItem('streak');
  if (!streak) {
    streak = 0;
  } else {
    streak = parseInt(streak);
  }

  document.getElementById('streakCount').innerText = streak;

  let lastClickedTimestamp = localStorage.getItem('lastClickedTimestamp');

  if (lastClickedTimestamp && lastClickedTimestamp === todayDate) {
    document.getElementById('clickButton').disabled = true;
    document.getElementById('message').innerText = "You have already completed today's goal!";
  } else {
    if (lastClickedTimestamp && lastClickedTimestamp !== yesterdayDateString) {
      streak = 0;
    }
    document.getElementById('clickButton').disabled = false;
  }

  document.getElementById('clickButton').addEventListener('click', function() {
    streak++;
    document.getElementById('streakCount').innerText = streak;
    localStorage.setItem('lastClickedTimestamp', todayDate);
    localStorage.setItem('streak', streak);
    document.getElementById('clickButton').disabled = true;
    document.getElementById('message').innerText = "You have completed today's goal!";// Generate share message for Twitter
    let twitterMessage = "I've completed my goal for today on Streak Tracker! My current streak is " + streak + ". #StreakTracker #GoalAchieved";

    // Generate share message for Facebook
    let facebookMessage = "I've completed my goal for today on Streak Tracker! My current streak is " + streak + ".";

    // Update social media share links
    document.getElementById('twitterIcon').href = "https://twitter.com/intent/tweet?text=" + encodeURIComponent(twitterMessage);
    document.getElementById('facebookIcon').href = "https://www.facebook.com/sharer/sharer.php?u=https://example.com&quote=" + encodeURIComponent(facebookMessage);

    // Display message
    document.getElementById('message').innerText = "You have completed today's goal! Share your achievement with friends.";

    // Automatically open share links in a new tab
    let socialMediaIcons = document.querySelectorAll('#socialMediaIcons a');
    socialMediaIcons.forEach(icon => {
      icon.addEventListener('click', function(event) {
        event.preventDefault();
        let url = this.href;
        window.open(url, '_blank');
      });
    });

    // Copy message to clipboard when copy icon is clicked
    let copyIcon = document.getElementById('copyIcon');
    copyIcon.addEventListener('click', function() {
      let messageToCopy = "I've completed my goal for today on Streak Tracker! My current streak is " + streak + ".";
      navigator.clipboard.writeText(messageToCopy).then(function() {
        alert("Message copied to clipboard!");
      }, function() {
        alert("Failed to copy message to clipboard.");
      });
    });
  });
});
</script>

</body>
</html>
